{
  "services": [
    {
      "name": "lobby-server",
      "type": "docker",
      "build": {
        "dockerfilePath": "server/Dockerfile",
        "context": "."
      },
      "start": "node index.js",
      "env": {
        "PORT": {
          "fromEnv": "PORT",
          "default": "3000"
        },
        "REDIS_URL": {
          "fromPlugin": "redis"
        }
      }
    },
    {
      "name": "lobby-client",
      "type": "docker",
      "build": {
        "dockerfilePath": "client/Dockerfile",
        "context": "."
      },
      "start": "nginx -g 'daemon off;'",
      "env": {
        "PORT": {
          "fromEnv": "PORT",
          "default": "80"
        }
      }
    }
  ],
  "plugins": [
    {
      "name": "redis",
      "service": "lobby-server",
      "type": "redis"
    }
  ]
}
